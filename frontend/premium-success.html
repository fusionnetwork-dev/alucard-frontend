<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <script src="js/config.js"></script>
  
  <title>alucard - premium activated!</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #000;
      color: #fff;
      overflow-x: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    .bg-orbs {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }
    .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.4;
      animation: float 20s infinite ease-in-out;
    }
    .orb1 {
      width: 500px; height: 500px;
      background: radial-gradient(circle, #ff0000, transparent);
      top: -200px; right: -100px;
    }
    .orb2 {
      width: 400px; height: 400px;
      background: radial-gradient(circle, #8b0000, transparent);
      bottom: -150px; left: -100px;
      animation-delay: 5s;
    }
    @keyframes float {
      0%,100%{transform:translate(0,0)scale(1)}
      33%{transform:translate(100px,-100px)scale(1.1)}
      66%{transform:translate(-100px,100px)scale(0.9)}
    }

    .success-container {
      background: rgba(255,255,255,0.03);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(0,255,0,0.3);
      border-radius: 16px;
      padding: 4rem 3rem;
      max-width: 600px;
      text-align: center;
      animation: slideUp 0.5s ease;
      box-shadow: 0 0 40px rgba(0,255,0,0.2);
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .success-icon {
      font-size: 5rem;
      margin-bottom: 1.5rem;
      animation: bounce 1s ease infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .success-container h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: #00ff00;
    }

    .success-container p {
      font-size: 1.1rem;
      color: rgba(255,255,255,0.8);
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .premium-badge {
      display: inline-block;
      background: linear-gradient(135deg, #ff3333, #ff6666);
      padding: 0.5rem 1.5rem;
      border-radius: 25px;
      font-weight: 700;
      margin-bottom: 2rem;
      font-size: 0.9rem;
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    .features-list {
      background: rgba(0,255,0,0.05);
      border: 1px solid rgba(0,255,0,0.2);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      text-align: left;
    }

    .features-list h3 {
      color: #00ff00;
      margin-bottom: 1rem;
      text-align: center;
    }

    .features-list ul {
      list-style: none;
      padding: 0;
    }

    .features-list li {
      padding: 0.5rem 0;
      display: flex;
      align-items: center;
      gap: 0.8rem;
    }

    .check-icon {
      color: #00ff00;
      font-size: 1.2rem;
    }

    .button-group {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 1rem 2rem;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1rem;
      text-decoration: none;
      display: inline-block;
      border: none;
    }

    .btn-primary {
      background: #ff3333;
      color: white;
      box-shadow: 0 4px 20px rgba(255,51,51,0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(255,51,51,0.4);
    }

    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 1px solid rgba(255,255,255,0.2);
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.15);
      transform: translateY(-2px);
    }

    .countdown {
      font-size: 0.9rem;
      color: rgba(255,255,255,0.5);
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="bg-orbs">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
  </div>

  <div class="success-container">
    <div class="success-icon">üéâ</div>
    <h1>Welcome to Premium!</h1>
    <div class="premium-badge">‚≠ê Lifetime Access Activated</div>
    
    <p>Your payment was successful! You now have unlimited access to all premium features forever.</p>

    <div class="features-list">
      <h3>What You Just Unlocked:</h3>
      <ul>
        <li><span class="check-icon">‚úì</span> Unlimited device unlocks (no 24hr limit)</li>
        <li><span class="check-icon">‚úì</span> No ads or checkpoints ever again</li>
        <li><span class="check-icon">‚úì</span> Instant device whitelisting</li>
        <li><span class="check-icon">‚úì</span> Priority support (24/7 response)</li>
        <li><span class="check-icon">‚úì</span> Advanced analytics dashboard</li>
        <li><span class="check-icon">‚úì</span> Premium badge and perks</li>
      </ul>
    </div>

    <div class="button-group">
      <a href="dashboard.html" class="btn btn-primary">Go to Dashboard</a>
      <a href="unlock.html" class="btn btn-secondary">Generate Keys</a>
    </div>

    <div class="countdown">
      Redirecting to dashboard in <span id="countdown">10</span> seconds...
    </div>
  </div>

  <script>
    // Update premium status in local storage
    async function updatePremiumStatus() {
      try {
        const token = localStorage.getItem('alucard_token');
        if (!token) {
          window.location.href = 'auth.html';
          return;
        }

        // Fetch updated user data
        const response = await fetch(`${API_URL}/api/user/premium-status`, {
          headers: { 'Authorization': `Bearer ${token}` }
        });

        const data = await response.json();
        
        if (data.isPremium) {
          const user = JSON.parse(localStorage.getItem('alucard_user') || '{}');
          user.isPremium = true;
          localStorage.setItem('alucard_user', JSON.stringify(user));
        }
      } catch (e) {
        console.error('Failed to update premium status:', e);
      }
    }

    // Countdown redirect
    let seconds = 10;
    const countdownEl = document.getElementById('countdown');
    
    const interval = setInterval(() => {
      seconds--;
      countdownEl.textContent = seconds;
      
      if (seconds <= 0) {
        clearInterval(interval);
        window.location.href = 'dashboard.html';
      }
    }, 1000);

    // Update status immediately
    updatePremiumStatus();

    // Confetti effect (optional - add particles)
    function createConfetti() {
      const colors = ['#ff3333', '#ff6666', '#ffffff', '#00ff00'];
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.style.position = 'fixed';
          confetti.style.width = '10px';
          confetti.style.height = '10px';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = Math.random() * window.innerWidth + 'px';
          confetti.style.top = '-10px';
          confetti.style.opacity = '0.8';
          confetti.style.pointerEvents = 'none';
          confetti.style.zIndex = '9999';
          document.body.appendChild(confetti);

          const fall = confetti.animate([
            { transform: 'translateY(0) rotate(0deg)', opacity: 0.8 },
            { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
          ], {
            duration: 3000 + Math.random() * 2000,
            easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
          });

          fall.onfinish = () => confetti.remove();
        }, i * 50);
      }
    }

    createConfetti();
  </script>
</body>
</html>
